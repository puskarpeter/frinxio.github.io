<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6HVGXQFHWX"></script>
    <script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-6HVGXQFHWX');</script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="turbo-cache-control" content="no-cache">

    <!-- Primary Meta Tags -->
    <title>UniConfig CLI | Frinx Docs</title>
    <meta name="title" content="UniConfig CLI | Frinx Docs">
    <meta name="description" content="The CLI southbound plugin enables the Frinx UniConfig to communicate with CLI devices that do not speak NETCONF or any other programmatic" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.frinx.io/frinx-uniconfig/user-guide/network-management-protocols/uniconfig_cli/">
    <meta property="og:title" content="UniConfig CLI | Frinx Docs">
    <meta property="og:description" content="The CLI southbound plugin enables the Frinx UniConfig to communicate with CLI devices that do not speak NETCONF or any other programmatic">
    <meta property="og:image" content="https://docs.frinx.io/frinx-uniconfig/user-guide/network-management-protocols/uniconfig_cli/clisouthplugin.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://docs.frinx.io/frinx-uniconfig/user-guide/network-management-protocols/uniconfig_cli/">
    <meta property="twitter:title" content="UniConfig CLI | Frinx Docs">
    <meta property="twitter:description" content="The CLI southbound plugin enables the Frinx UniConfig to communicate with CLI devices that do not speak NETCONF or any other programmatic">
    <meta property="twitter:image" content="https://docs.frinx.io/frinx-uniconfig/user-guide/network-management-protocols/uniconfig_cli/clisouthplugin.png">
    
    <script>(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="/static/favicon-32x32.png" rel="icon" />
    <link href="/resources/css/retype.css?v=1.11.2.700323446531" rel="stylesheet" data-turbo-track="reload" />

    <script type="text/javascript" src="/resources/js/config.js?v=1.11.2.700323446531" defer data-turbo-track="reload"></script>
    <script type="text/javascript" src="/resources/js/retype.js?v=1.11.2" defer data-turbo-track="reload"></script>
    <script id="lunr-js" type="text/javascript" src="/resources/js/lunr.js?v=1.11.2.700323446531" defer></script>
    <script id="prism-js" type="text/javascript" src="/resources/js/prism.js?v=1.11.2.700323446531" defer></script>
</head>
    <body>
        <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
    <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>

    <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
    <div class="container relative flex items-center justify-between flex-grow pr-6 md:justify-start">
        <!-- Mobile menu button skeleton -->
        <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center flex-shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px flex-shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
        <div v-cloak id="docs-sidebar-toggle"></div>

        <!-- Logo -->
        <div class="flex items-center justify-between h-full py-2 md:w-75">
            <div class="flex items-center px-2 md:px-6">
                <a id="docs-site-logo" href="/" class="flex items-center leading-snug text-2xl">
                    <span class="flex-grow-0 flex-shrink-0 overflow-hidden">
                        <img class="max-h-10 dark:hidden md:inline-block" src="/static/frinx_logo.png">
                        <img class="max-h-10 hidden dark:inline-block" src="/static/frinx_logo.png">
                    </span>
                </a>
            </div>

            <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
        </div>

        <div class="flex justify-between md:flex-grow">
            <!-- Top Nav -->
            <nav class="hidden md:flex">
    <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
        <li class="md:mr-6">
            <a class="inline-flex items-center py-2 md:mb-0 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="/">
                <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                    <g fill="currentColor">
                        <path fill-rule="evenodd" d="M11.03 2.59a1.5 1.5 0 011.94 0l7.5 6.363a1.5 1.5 0 01.53 1.144V19.5a1.5 1.5 0 01-1.5 1.5h-5.75a.75.75 0 01-.75-.75V14h-2v6.25a.75.75 0 01-.75.75H4.5A1.5 1.5 0 013 19.5v-9.403c0-.44.194-.859.53-1.144l7.5-6.363zM12 3.734l-7.5 6.363V19.5h5v-6.25a.75.75 0 01.75-.75h3.5a.75.75 0 01.75.75v6.25h5v-9.403L12 3.734z"/>
                    </g>
                </svg>
                <span>Home</span>
            </a>
        </li>
        <li class="md:mr-6">
            <a class="inline-flex items-center py-2 md:mb-0 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://frinx.io/" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                    <g fill="currentColor">
                        <path fill-rule="evenodd" d="M0 3.75C0 2.784.784 2 1.75 2h20.5c.966 0 1.75.784 1.75 1.75v16.5A1.75 1.75 0 0122.25 22H1.75A1.75 1.75 0 010 20.25V3.75zm1.75-.25a.25.25 0 00-.25.25V5.5h4v-2H1.75zM7 3.5v2h4v-2H7zm5.5 0v2h10V3.75a.25.25 0 00-.25-.25H12.5zm10 3.5h-21v13.25c0 .138.112.25.25.25h20.5a.25.25 0 00.25-.25V7z"/>
                    </g>
                </svg>
                <span>Webpage</span>
            </a>
        </li>
        <li class="md:mr-6">
            <a class="inline-flex items-center py-2 md:mb-0 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/FRINXio" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                    <g fill="currentColor">
                        <symbol id="mark-github-icon-symbol" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></symbol><use xlink:href="#mark-github-icon-symbol" />
                    </g>
                </svg>
                <span>GitHub</span>
            </a>
        </li>
        <li class="md:mr-6">
            <a class="inline-flex items-center py-2 md:mb-0 text-sm text-gray-400 whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.linkedin.com/company/frinx" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                    <g fill="currentColor">
                        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-.139 9.237c.209 4.617-3.234 9.765-9.33 9.765-1.854 0-3.579-.543-5.032-1.475 1.742.205 3.48-.278 4.86-1.359-1.437-.027-2.649-.976-3.066-2.28.515.098 1.021.069 1.482-.056-1.579-.317-2.668-1.739-2.633-3.26.442.246.949.394 1.486.411-1.461-.977-1.875-2.907-1.016-4.383 1.619 1.986 4.038 3.293 6.766 3.43-.479-2.053 1.08-4.03 3.199-4.03.943 0 1.797.398 2.395 1.037.748-.147 1.451-.42 2.086-.796-.246.767-.766 1.41-1.443 1.816.664-.08 1.297-.256 1.885-.517-.439.656-.996 1.234-1.639 1.697z"/>
                    </g>
                </svg>
                <span>LinkedIn</span>
            </a>
        </li>
    </ul>
</nav>

            <!-- Header Right Skeleton -->
            <div v-cloak class="flex justify-end flex-grow skeleton">

                <!-- Search input mock -->
                <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                    <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                    </div>

                    <input class="w-full h-10 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 placeholder-gray-400 dark:placeholder-dark-400"
                    style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search" />
                </div>

                <!-- Mobile search button mock -->
                <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                </div>

                <!-- Dark mode switch placehokder -->
                <div class="w-10 h-10 lg:ml-2"></div>

                <!-- History button mock -->
                <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                    <svg xmlns="http://www.w3.org/2000/svg" class="flex-shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation"  style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                </div>
            </div>

            <div v-cloak class="flex items-center justify-end flex-grow">
                <div id="docs-mobile-search-button"></div>
                <doc-search-desktop></doc-search-desktop>

                <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                <doc-history></doc-history>
            </div>
        </div>
    </div>
</header>


    <div class="container relative flex bg-white">
        <!-- Sidebar Skeleton -->
<div v-cloak class="fixed flex flex-col flex-shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">

    <!-- Render this div, if config.showSidebarFilter is `true` -->
    <div class="flex items-center h-16 px-6">
        <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter" />
    </div>

    <div class="pl-6 mb-4 mt-1">
        <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
        <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
    </div>


    <div class="flex-shrink-0 mt-auto bg-transparent dark:border-dark-650">
        <a
    class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by"
    target="_blank"
    href="https://retype.com/"
    rel="noopener"
>
    <span class="text-xs whitespace-nowrap">Powered by</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
</a>

    </div>
</div>

<!-- Sidebar component -->
<doc-sidebar v-cloak>
    <template #sidebar-footer>
        <div
            class="flex-shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650"
        >

            <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                <nav>
                    <ul class="flex flex-wrap justify-center items-center">
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="/README.md">Home</a>
                        </li>
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://frinx.io/">Webpage</a>
                        </li>
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/FRINXio">GitHub</a>
                        </li>
                        <li class="mr-6">
                            <a class="block py-1 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://www.linkedin.com/company/frinx">LinkedIn</a>
                        </li>
                    </ul>
                </nav>
            </div>


            <a
    class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by"
    target="_blank"
    href="https://retype.com/"
    rel="noopener"
>
    <span class="text-xs whitespace-nowrap">Powered by</span>
    <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
</a>

        </div>
    </template>
</doc-sidebar>


        <div class="flex-grow min-w-0 dark:bg-dark-850">
            <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
            <div class="flex">
    <div class="flex-grow min-w-0 px-6 md:px-16">
        <main class="relative pt-6 pb-16">
            <div class="docs-markdown" id="docs-content">
                <!-- Rendered if sidebar right is enabled -->
                <div id="docs-sidebar-right-toggle"></div>
               
                <!-- Page content  -->
<doc-anchor-target id="uniconfig-cli" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#uniconfig-cli">#</doc-anchor-trigger>
        <span>UniConfig CLI</span>
    </h1>
</doc-anchor-target>
<doc-anchor-target id="introduction">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#introduction">#</doc-anchor-trigger>
        <span>Introduction</span>
    </h2>
</doc-anchor-target>
<p>The CLI southbound plugin enables the Frinx UniConfig to communicate
with CLI devices that do not speak NETCONF or any other programmatic
API. The CLI service module uses YANG models and implements a
translation logic to send and receive structured data to and from CLI
devices. This allows applications to use a service model or unified
device model to communicate with a broad range of network platforms and
SW revisions from different vendors.</p>
<p>Much like the NETCONF southbound plugin, the CLI southbound plugin
enables fully model-driven, transactional device management for internal
and external OpenDaylight applications. In fact, the applications are
completely unaware of underlying transport and can manage devices over
the CLI plugin in the same exact way as over NETCONF.</p>
<p>Once we have installed the device, we can present an abstract,
model-based network device and service interface to applications and
users. For example, we can parse the output of an IOS command and return
structured data.</p>
<p><figure class="content-center">
    <img src="clisouthplugin.png" alt="CLI southbound plugin" />
    <figcaption class="caption">CLI southbound plugin</figcaption>
</figure>
</p>
<doc-anchor-target id="architecture">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#architecture">#</doc-anchor-trigger>
        <span>Architecture</span>
    </h2>
</doc-anchor-target>
<p>This section provides an architectural overview of the plugin, focusing
on the main components.</p>
<doc-anchor-target id="cli-topology">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#cli-topology">#</doc-anchor-trigger>
        <span>CLI topology</span>
    </h3>
</doc-anchor-target>
<p>The CLI topology is a dedicated topology instance where users and
applications can:</p>
<ul>
<li>install a CLI device,</li>
<li>uninstall a device,</li>
<li>check the state of connection,</li>
<li>read/write data from/to a device,</li>
<li>execute RPCs on a device.</li>
</ul>
<p>This topology can be seen as an equivalent of topology-netconf,
providing the same features for netconf devices. The topology APIs are
YANG APIs based on the ietf-topology model. Similarly to netconf
topology, CLI topology augments the model with some basic configuration
data and also some state to monitor mountpoints.</p>
<doc-anchor-target id="cli-mountpoint">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#cli-mountpoint">#</doc-anchor-trigger>
        <span>CLI mountpoint</span>
    </h3>
</doc-anchor-target>
<p>The plugin relies on MD-SAL and its concept of mountpoints to expose
management of a CLI device. By exposing a mountpoint into MD-SAL, it
enables the CLI topology to actually access the device&#x27;s data in a
structured/YANG manner. Components of such a mountpoint can be divided
into 3 distinct layers:</p>
<ul>
<li>Service layer - implementation of MD-SAL APIs delegating execution
to transport layer.</li>
<li>Translation layer - a generic and extensible translation layer. The
actual translation between YANG and CLI takes place in the
extensions. The resulting CLI commands are then delegated to
transport layer.</li>
<li>Transport layer - implementation of various transport protocols used
for actual communication with network devices.</li>
</ul>
<p>The following diagram shows the layers of a CLI mountpoint:</p>
<p><figure class="content-center">
    <img src="climountpoint.png" alt="CLI mountpoint" />
    <figcaption class="caption">CLI mountpoint</figcaption>
</figure>
</p>
<doc-anchor-target id="translation-layer">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#translation-layer">#</doc-anchor-trigger>
        <span>Translation layer</span>
    </h3>
</doc-anchor-target>
<p>The CLI southbound plugin is as generic as possible. However, the
device-specific translation code (from YANG data -\ CLI commands and
vice versa), needs to be encapsulated in a device-specific translation
plugin. E.g. Cisco IOS specific translation code needs to be implemented
by Cisco IOS translation plugin before FRINX UniConfig can manage IOS
devices. These translation plugins in conjunction with the generic
translation layer allow for a CLI mountpoint to be created.</p>
<doc-anchor-target id="device-specific-translation-plugin">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#device-specific-translation-plugin">#</doc-anchor-trigger>
        <span>Device specific translation plugin</span>
    </h3>
</doc-anchor-target>
<p>Device specific translation plugin is a set of:</p>
<ul>
<li>YANG models</li>
<li>Data handlers</li>
<li>RPC implementations</li>
</ul>
<p>that actually</p>
<ul>
<li>defines the model/structure of the data in FRINX UniConfig</li>
<li>implements the translation between YANG data and device CLI in a set
of handlers</li>
<li>(optionally) implements the translation between YANG RPCs and device
CLI</li>
</ul>
<p>The plugin itself is responsible for defining the mapping between YANG
and CLI. However, the translation layer into which it plugs in is what
handles the heavy lifting for it e.g. transactions, rollback, config
data storage, reconciliation etc. Additionally, the SPIs of the
translation layer are very simple to implement because the translation
plugin only needs to focus on the translations between YANG &lt;-\ CLI.</p>
<doc-anchor-target id="units">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#units">#</doc-anchor-trigger>
        <span>Units</span>
    </h3>
</doc-anchor-target>
<p>In order to enable better extensibility of the translation plugin and
also to allow the separation of various aspects of a device&#x27;s
configuration, a plugin can be split into multiple units. Where a unit
is actually just a subset of a plugin&#x27;s models, handlers and RPCs.</p>
<p>A single unit will usually cover a particular aspect of device
management e.g. the interface management unit.</p>
<p>Units can be completely independent or they can build on each other, but
in the end (in the moment where a device is being installed) they form a
single translation plugin.</p>
<p>Each unit has to be registered under a specific device type(s) e.g. an
interface management unit could be registered for various versions of
the IOS device type. When installing an IOS device, the CLI southbound
plugin collects all the units registered for the IOS device type and
merges them into a single plugin enabling full management.</p>
<p>The following diagram shows an IOS device translation plugin split into
multiple units:</p>
<p><figure class="content-center">
    <img src="iosunits.png" alt="IOS translation plugin" />
    <figcaption class="caption">IOS translation plugin</figcaption>
</figure>
</p>
<doc-anchor-target id="transport-layer">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#transport-layer">#</doc-anchor-trigger>
        <span>Transport layer</span>
    </h3>
</doc-anchor-target>
<p>For now, two transport protocols are supported:</p>
<ul>
<li>SSH</li>
<li>Telnet</li>
</ul>
<p>They implement the same APIs, which enables the translation layer of the
CLI plugin to be completely independent of the underlying protocol in
use. Deciding which transport will be used to manage a particular device
is simply a matter of install-request configuration.</p>
<p>The transport layer can be specified using install-request
&#x27;cli-topology:transport-type&#x27; parameter.</p>
<doc-anchor-target id="data-processing">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#data-processing">#</doc-anchor-trigger>
        <span>Data processing</span>
    </h3>
</doc-anchor-target>
<p>There are 2 types of data depending on data-store in which data is
stored:</p>
<ul>
<li>Config</li>
<li>Operational</li>
</ul>
<p>This section details how these data types map to CLI commands.</p>
<p>Just as there are 2 types of data, there are 2 streams of data in the
CLI southbound plugin:</p>
<ul>
<li><strong>Config</strong>
<ul>
<li>It represents user/application intended configuration for the
device.</li>
<li>Translation plugins/units need to handle this configuration in
data handlers as C(reate), U(pdate) and D(elete) operations.
R(ead) pulls this config data from the device and updates the
cache on its way back.</li>
</ul>
</li>
</ul>
<p><figure class="content-center">
    <img src="readcfg.png" alt="Config data" />
    <figcaption class="caption">Config data</figcaption>
</figure>
</p>
<ul>
<li><strong>Operational</strong>
<ul>
<li>It represents actual configuration on the device, optionally
statistics from the device.</li>
<li>Translation plugins/units need to pull these data out of the
device when R(ead) operation is requested.</li>
</ul>
</li>
</ul>
<p><figure class="content-center">
    <img src="readoper.png" alt="Operational data" />
    <figcaption class="caption">Operational data</figcaption>
</figure>
</p>
<ul>
<li><strong>RPCs</strong> stand on their own and can encapsulate any command(s) on
the device.</li>
</ul>
<doc-anchor-target id="reconciliation">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#reconciliation">#</doc-anchor-trigger>
        <span>Reconciliation</span>
    </h2>
</doc-anchor-target>
<p>There might be situations where there are inconsistencies between actual
configuration on the device and the state cached in Frinx UniConfig.
That&#x27;s why a reconciliation mechanism was developed to:</p>
<ul>
<li>Allows the mountpoint to sync its state when first connecting to the
device.</li>
<li>Allows apps/users to request synchronization when an inconsistent
state is expected e.g. manual configuration of the device.</li>
</ul>
<p>Reconciliation is performed when issuing any READ operation. If the data
coming from device is different compared to mountpoint cache, the cache
will be updated automatically.</p>
<p>Initial reconciliation (after connection has been established) takes
place automatically on the CLI layer. However it can be disabled with
attribute &quot;node-extension:reconcile&quot; set to false when installing a
device. Uniconfig performs its own reconciliation when devices are
connected so if both the Uniconfig and CLI layer reconcile, the install
process is unnecessarily prolonged. That&#x27;s why it is advised to turn off
reconciliation on the CLI layer when using Uniconfig.</p>
<doc-anchor-target id="rpcs-provided-by-cli-layer">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#rpcs-provided-by-cli-layer">#</doc-anchor-trigger>
        <span>RPCs provided by CLI layer</span>
    </h2>
</doc-anchor-target>
<p>There are multiple RPCs that can be used for sending of commands to CLI
session and optionally waiting for command output. To use all of these
RPCs, it is required to have installed CLI device in &#x27;Connected&#x27; state.</p>
<doc-anchor-target id="rpc-execute-and-read">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#rpc-execute-and-read">#</doc-anchor-trigger>
        <span>RPC: Execute-and-read</span>
    </h3>
</doc-anchor-target>
<doc-anchor-target id="description">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#description">#</doc-anchor-trigger>
        <span>Description</span>
    </h4>
</doc-anchor-target>
<ul>
<li>Execution of the sequence of commands specified in the input. These
commands must be separated by the new line - then, each of the
command is executed separately.</li>
<li>After all commands are executed, it is assumed, that the original
command prompt (prompt that was set before execution of this RPC)
appears on the remote terminal.</li>
<li>If the input contains only single command, output of this RPC will
contain only output of this command. If input contains multiple
commands separated by newline, output of this RPC will be built from
command prompts (except the prompt of the first command), input
commands and outputs returned from remote terminal.</li>
</ul>
<doc-anchor-target id="example">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#example">#</doc-anchor-trigger>
        <span>Example</span>
    </h4>
</doc-anchor-target>
<p>Following RPC demonstrates listing of all interfaces with configured IP
addresses plus listing of available routing protocols that can be
enabled from global configuration mode. Since the last entered command
is placed in configuration mode (for example, starting with
&#x27;Router(config)#&#x27;), it is required to return back to Privileged EXEC
mode (for example, starting with &#x27;Router#&#x27;) using &#x27;end&#x27; command and
&#x27;no&#x27; confirmation to not save changes. Also, &#x27;wait-for-output-timer&#x27; is
configured to 2 seconds - CLI layer waits for command output returned
from device up to 2 seconds.</p>
<div class="flex mb-6">
    <div class="flex-shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3">
<p>Remember that the last command prompt must equal to original prompt
otherwise CLI session fails on timeout and CLI mountpoint must be
recreated.</p>
        </div>
    </div>
</div>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-bash"><code v-pre class="language-bash">curl --request POST 'http://127.0.0.1:8181/rests/operations/network-topology:network-topology/topology=cli/node=xrcli/yang-ext:mount/cli-unit-generic:execute-and-read' \
--header 'Content-Type: application/json' \
--data-raw '{
    &quot;input&quot;: {
        &quot;command&quot;: &quot;show ip int brief
        conf t
        router ? rip
        end
        no&quot;,
        &quot;wait-for-output-timer&quot;: 2
    }
}'</code></pre>
</doc-codeblock></div>
<p>RPC reply with unescaped output string (output can be easily unescaped
with &#x27;printf&#x27; linux application):</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">{
    &quot;output&quot;: {
        &quot;output&quot;: &quot;show ip int brief
Fri Jan 24 12:45:00.498 UTC

Interface                      IP-Address      Status          Protocol Vrf-Name
MgmtEth0/0/CPU0/0              192.168.1.214   Up              Up       default
GigabitEthernet0/0/0/0         unassigned      Shutdown        Down     default
GigabitEthernet0/0/0/1         unassigned      Up              Up       default
GigabitEthernet0/0/0/2         unassigned      Up              Up       default
GigabitEthernet0/0/0/3         unassigned      Up              Up       default
GigabitEthernet0/0/0/4         unassigned      Up              Up       default
RP/0/0/CPU0:XR5#conf t
Fri Jan 24 12:45:02.828 UTC
RP/0/0/CPU0:XR5(config)#router ?
  amt     Automatic Multicast Tunneling (AMT)
  bgp     BGP configuration subcommands
  eigrp   EIGRP configuration subcommands
  hsrp    HSRP configuration subcommands
  igmp    IPv4 Address Family
  isis    ISO IS-IS
  lisp    LISP configuration subcommands
  mld     IPv6 address family
  msdp    MSDP configuration subcommands
  ospf    OSPF configuration subcommands
  ospfv3  IPv6 Open Shortest Path First protocol (OSPFv3)
  pim     PIM configuration subcommands
  rib     RIB configuration subcommands
  rip     RIP configuration subcommands
  rpl     IPv6 Routing Protocol for Low-Power and Lossy Networks (RPL)
  static  Static route configuration subcommands
  vrrp    VRRP configuration subcommands
RP/0/0/CPU0:XR5(config)#router  rip
RP/0/0/CPU0:XR5(config-rip)#end
Uncommitted changes found, commit them before exiting(yes/no/cancel)? [cancel]:&quot;
    }
}</code></pre>
</doc-codeblock></div>
<p>Description of RPC-request input body fields:</p>
<ul>
<li><strong>command</strong> (mandatory) - The list of commands that are sent to
device. Commands must be separated by newline character. Every
command-line is executed separately.</li>
<li><strong>wait-for-output-timer</strong> (optional) - By default (if this parameter
is not set or set to 0), outputs from entered commands are collected
after caught echo of the next typed command in CLI session (or
command prompt, if the command is the last one from input sequence).
Then, the collected output contains output of the previous command +
echo of the current command that hasn&#x27;t been executed by sending
newline character yet. This process is simplified by setting
&#x27;wait-for-output-timer&#x27; value. In this case,
&#x27;waiting-for-command-echo&#x27; procedure is not applied, rather next
command is executed only after specified number of seconds after
which the reply from CLI session should already be available (if it
won&#x27;t be available, then command output will be read after execution
of the next command - outputs can be messed up).</li>
</ul>
<doc-anchor-target id="wait-for-echo-behaviour">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#wait-for-echo-behaviour">#</doc-anchor-trigger>
        <span>Wait-for-echo behaviour</span>
    </h4>
</doc-anchor-target>
<p>The comparison between described <strong>wait-for-echo</strong> approaches can be
demonstrated in the steps of processing 2 command-lines:</p>
<ol>
<li><p><strong>&#x27;wait-for-output-timer&#x27; is not set or it set to value 0</strong></p>
<ol>
<li>write command 1</li>
<li>wait for command 1 echo</li>
<li>hit enter</li>
<li>write command 2</li>
<li>wait for command 2 echo</li>
<li>hit enter</li>
<li>read until command prompt appears</li>
</ol>
</li>
<li><p><strong>&#x27;wait-for-output-timer&#x27; is specified in request</strong></p>
<ol>
<li>write command 1</li>
<li>hit enter</li>
<li>read output until timeout expires</li>
<li>write command 2</li>
<li>hit enter</li>
<li>read until command prompt appears</li>
</ol>
</li>
</ol>
<div class="flex mb-6">
    <div class="flex-shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3">
<p>Even if the &#x27;wait-for-output-timer&#x27; is configured, the last output
must equal to original command-prompt.</p>
        </div>
    </div>
</div>
<doc-anchor-target id="rpc-execute-and-expect">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#rpc-execute-and-expect">#</doc-anchor-trigger>
        <span>RPC: Execute-and-expect</span>
    </h3>
</doc-anchor-target>
<doc-anchor-target id="description-1">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#description-1">#</doc-anchor-trigger>
        <span>Description</span>
    </h4>
</doc-anchor-target>
<ul>
<li>It is a form of the &#x27;execute-and-read&#x27; RPC that additionally may
contain &#x27;expect(..)&#x27; patterns used for waiting for specific
outputs/prompts. It can be used for execution of interactive
commands that require multiple subsequent inputs with different
preceding prompts.</li>
<li>The body of &#x27;expect(..)&#x27; pattern must be specified by Java-based
regular expression typed between the brackets (see
<a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html</a>
<ul>
<li>documentation about regular expressions used in Java language).</li>
</ul>
</li>
<li>&#x27;expect(..)&#x27; pattern can only be used for testing of previous
command line output including next command prompt. From this reason,
it is also a suitable tool for testing of specific command prompts.</li>
<li>&#x27;expect(..)&#x27; pattern must be specified on the distinct line. If
multiple &#x27;expect(..)&#x27; patterns are chained on neighboring lines,
then all of them must match previous output (patterns are joined
using logical AND operation).</li>
<li>Output of this RPC reflects the whole dialogue between Frinx
UniConfig client and remote terminal except the initial
command-prompt.</li>
<li>&#x27;wait-for-output-timer&#x27; parameter can also be specified in this RPC
<ul>
<li>but in this case, it applies only for non-interactive commands -
commands that are not followed by &#x27;expect(..)&#x27; pattern. It is
possible to mix interactive and non-interactive commands in input
command snippet.</li>
</ul>
</li>
<li>If &#x27;expect&#x27; pattern doesn&#x27;t match previous output, CLI session will
be dropped on timeout.</li>
</ul>
<doc-anchor-target id="example-1">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#example-1">#</doc-anchor-trigger>
        <span>Example</span>
    </h4>
</doc-anchor-target>
<p>The following RPC requests shows execution of interactive command for
copying of file from TFTP server. The CLI prompt subsequently ask for
source filename and destination filename. These prompts are asserted by
&#x27;expect(..) pattern. The last &#x27;expect(..) pattern just waits for
confirmation about number of copied bytes.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-bash"><code v-pre class="language-bash">curl --request POST 'http://127.0.0.1:8181/rests/operations/network-topology:network-topology/topology=cli/node=iosxr/yang-ext:mount/cli-unit-generic:execute-and-expect' \
--header 'Content-Type: application/json' \
--data-raw '{
    &quot;input&quot;: {
        &quot;command&quot;: &quot;copy tftp://192.168.1.40 disk0:/
        expect(.*Source filename.+\\?.*)
        sample_file.txt
        expect(.*Destination filename.+\\?.*)
        config2.conf
        expect(.*\\d+\\s+bytes copied in\\s+\\d+\\s+sec.*)
        &quot;
    }
}'</code></pre>
</doc-codeblock></div>
<p>RPC reply with unescaped output string (output can be easily unescaped
with &#x27;printf&#x27; linux application):</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-bash"><code v-pre class="language-bash">{
    &quot;output&quot;: {
        &quot;output&quot;: &quot;copy tftp://192.168.1.40 disk0:/
Sun Jan 26 17:36:21.371 UTC
Source filename [/tftp:]?sample_file.txt
Destination filename [/disk0://sample_file.txt]?config2.conf
Accessing tftp://192.168.1.40/sample_file.txt
C
17 bytes copied in      0 sec
RP/0/0/CPU0:PE1#&quot;
    }
}</code></pre>
</doc-codeblock></div>
<div class="flex mb-6">
    <div class="flex-shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3">
<p>Backslash is a special character that must be escaped in JSON body.
From this reason, in the previous example, there are two backslashes
proceeding regular-expression constructs.</p>
<p>If &#x27;execute-and-expect&#x27; command field doesn&#x27;t contain any &#x27;expect(..)&#x27;
patterns, it will be evaluated in the same way like &#x27;execute-and-read&#x27;
RPC.</p>
        </div>
    </div>
</div>
<doc-anchor-target id="rpc-execute-and-read-until">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#rpc-execute-and-read-until">#</doc-anchor-trigger>
        <span>RPC: Execute-and-read-until</span>
    </h3>
</doc-anchor-target>
<doc-anchor-target id="description-2">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#description-2">#</doc-anchor-trigger>
        <span>Description</span>
    </h4>
</doc-anchor-target>
<ul>
<li>It is form of the &#x27;execute-and-read&#x27; RPC that allows to explicitly
specify &#x27;last-output&#x27; that CLI expect at the end of commands
executions (after the last command has been sent to device).</li>
<li>If explicitly specified &#x27;last&#x27; output is not found at the end of the
output, again, the session will be dropped and recreated similarly
to behaviour of &#x27;execute-and-read&#x27; RPC.</li>
</ul>
<doc-anchor-target id="example-2">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#example-2">#</doc-anchor-trigger>
        <span>Example</span>
    </h4>
</doc-anchor-target>
<p>The following request shows sending of the configuration snippet for
disabling of automatic network summary (RIP routing protocol). After
executing of these commands, command prompt is switched to
&#x27;RP/0/0/CPU0:XR5(config-rip)#&#x27; - it is not the same like initial
command prompt &#x27;RP/0/0/CPU0:XR5#&#x27;. From this reason it is required to
return back to initial command prompt by sending of additional commands
or specification of &#x27;last-output&#x27; as it is demonstrated in this example.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-bash"><code v-pre class="language-bash">curl --request POST 'http://127.0.0.1:8181/rests/operations/network-topology:network-topology/topology=cli/node=iosxr/yang-ext:mount/cli-unit-generic:execute-and-read-until' \
--header 'Content-Type: application/json' \
--data-raw '{
    &quot;input&quot;: {
        &quot;command&quot;: &quot;conf t
        router rip
        no auto-summary&quot;,
        &quot;wait-for-output-timer&quot;: 2,
        &quot;last-output&quot;: &quot;RP/0/0/CPU0:XR5(config-rip)#&quot;
    }
}'</code></pre>
</doc-codeblock></div>
<p>RPC reply with unescaped output string (output can be easily unescaped
with &#x27;printf&#x27; linux application):</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">{
    &quot;output&quot;: {
        &quot;output&quot;: &quot;conf t
Mon Jan 27 08:11:35.005 UTC
Current Configuration Session  Line       User     Date                     Lock
00000000-04c990b0-00000000     vty1       cisco    Mon Jan 27 08:07:46 2020
RP/0/0/CPU0:XR5(config)#router rip
RP/0/0/CPU0:XR5(config-rip)#&quot;
    }
}</code></pre>
</doc-codeblock></div>
<div class="flex mb-6">
    <div class="flex-shrink-0 w-1 rounded-tl rounded-bl bg-blue-500 dark:bg-blue-400"></div>
    <div class="flex w-full py-4 border border-l-0 border-gray-300 rounded-tr rounded-br doc-alert bg-white dark:bg-dark-700 dark:border-dark-700" role="alert">
        <div class="flex items-center ml-4 h-7">
            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px text-blue-500 dark:text-blue-400" width="22" height="22" viewBox="0 0 24 24" role="presentation">
                <g fill="currentColor"><g>
                    <path d="M12 1C5.93 1 1 5.93 1 12s4.93 11 11 11 11-4.93 11-11S18.07 1 12 1zm0 20c-4.96 0-9-4.04-9-9s4.04-9 9-9 9 4.04 9 9-4.04 9-9 9z"></path>
                    <path d="M12 11c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1zM12.01 7c-.56 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path>
                    <path fill="none" d="M0 0h24v24H0z"></path>
                </g></g>
            </svg>
        </div>
        <div class="pr-5 ml-3">
<p>Set &#x27;last-output&#x27; is saved within current CLI session - if you send
next &#x27;execute-and-read&#x27; RPC, it is assumed that the initial and last
output is newly configured &#x27;last-output&#x27;.</p>
        </div>
    </div>
</div>
<doc-anchor-target id="rpc-execute">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#rpc-execute">#</doc-anchor-trigger>
        <span>RPC: Execute</span>
    </h3>
</doc-anchor-target>
<doc-anchor-target id="description-3">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#description-3">#</doc-anchor-trigger>
        <span>Description</span>
    </h4>
</doc-anchor-target>
<ul>
<li>Simple execution of single or multiple commands on remote terminal.
Multiple commands must be separated by newline in the input. The
outputs from commands are not collected - output of this RPC
contains only status message.</li>
<li>This RPC can be used in cases where it is not necessary to obtain
outputs of entered commands.</li>
<li>After all commands are executed, the last output is not checked
against expected output.</li>
</ul>
<doc-anchor-target id="example-3">
    <h4>
        <doc-anchor-trigger class="header-anchor-trigger" to="#example-3">#</doc-anchor-trigger>
        <span>Example</span>
    </h4>
</doc-anchor-target>
<p>The following example demonstrates &#x27;execute&#x27; RPC on creation of simple
static route and committing of made change.</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-bash"><code v-pre class="language-bash">curl --request POST 'http://127.0.0.1:8181/rests/operations/network-topology:network-topology/topology=cli/node=xrcli/yang-ext:mount/cli-unit-generic:execute' \
--header 'Content-Type: application/json' \
--data-raw '{
    &quot;input&quot;: {
        &quot;command&quot;: &quot;conf t
        router static address-family ipv4 unicast 50.50.50.0/24 GigabitEthernet 0/0/0/3
        end
        yes
        &quot;,
        &quot;wait-for-output-timer&quot;: 2
    }
}'</code></pre>
</doc-codeblock></div>
<p>RPC reply - output contains just status message:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">{
    &quot;output&quot;: {
        &quot;status&quot;: &quot;ok&quot;
    }
}</code></pre>
</doc-codeblock></div>




                <!-- Required only on API pages -->
                <doc-toolbar-member-filter-no-results />
            </div>

            
<nav class="flex mt-14">
    <div class="w-1/2">
        <a class="px-5 py-4 h-full flex items-center break-all md:break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="/frinx-uniconfig/user-guide/network-management-protocols/uniconfig-installing/">
            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
            <span>
                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                <span class="block mt-1">Device Installation</span>
            </span>
        </a>
    </div>

    <div class="w-1/2">
        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-all md:break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="/frinx-uniconfig/user-guide/network-management-protocols/uniconfig_netconf/">
            <span>
                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                <span class="block mt-1">UniConfig NETCONF</span>
            </span>
            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
        </a>
    </div>
</nav>


        </main>

        <div class="border-t dark:border-dark-650 pt-6 mb-8">
            <footer class="flex flex-wrap items-center justify-between">
    <div>
        <ul class="flex flex-wrap items-center text-sm">
    <li>
        <a class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 md:mb-0" href="about.md">About</a>
    </li>
</ul>

    </div>
    <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p> Copyright 2022. <a href="https://frinx.io/">Frinx.io</a> All rights reserved.</p>
</div>
</footer>

        </div>
    </div>
    
    <!-- Rendered if sidebar right is enabled -->
    <!-- Sidebar right skeleton-->
    <div v-cloak class="fixed top-0 bottom-0 right-0 transform translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:flex-shrink-0 lg:pt-6 lg:transform-none lg:w-56 lg:z-0 md:w-72 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
        <div class="pl-5">
            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
        </div>
    </div>
    
    <!-- User should be able to hide sidebar right -->
    <doc-sidebar-right v-cloak></doc-sidebar-right>
</div>

        </div>
    </div>

    <doc-search-mobile></doc-search-mobile>
    <doc-back-to-top></doc-back-to-top>
</div>


        <div id="docs-overlay-target"></div>

        <script>window.__DOCS__ = { "title": "UniConfig CLI", icon: "file", hasPrism: true, hasMermaid: false, hasMath: false }</script>
    </body>
</html>
